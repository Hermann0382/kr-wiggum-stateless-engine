{
  "artifact_type": "tasks",
  "status": "complete",
  "validation": "passed",
  "approval_required": true,
  "approvers": ["Cynthia", "Hermann", "Usama"],
  "next_phase": "adr_documentation",
  "data": {
    "project_name": "KR-Wiggum Stateless Engine",
    "version": "2026.1.0",
    "created_at": "2026-01-11T23:59:00Z",
    "methodology": "agile",
    "sprint_duration": "2 weeks",
    "team_capacity": 40,
    "epics": [
      {
        "id": "EPIC-001",
        "title": "Core Infrastructure and Project Setup",
        "description": "Initialize project structure, TypeScript configuration, and base dependencies for the stateless engine.",
        "feature_ids": [],
        "priority": "high",
        "estimated_sprints": 1,
        "success_criteria": ["Project compiles with tsc", "Vitest runs successfully", "Directory structure matches spec"]
      },
      {
        "id": "EPIC-002",
        "title": "File-Based State Management",
        "description": "Implement file-based state entities and Zod schemas for persistent memory outside the AI.",
        "feature_ids": ["FR-006"],
        "priority": "high",
        "estimated_sprints": 1,
        "success_criteria": ["All entity schemas validate", "File read/write operations work", "State persists across restarts"]
      },
      {
        "id": "EPIC-003",
        "title": "The Distiller Component",
        "description": "Build brainstorm intake, voice separation, PRD generation, and atomic task breakdown.",
        "feature_ids": ["FR-001"],
        "priority": "high",
        "estimated_sprints": 2,
        "success_criteria": ["Brainstorm files parsed correctly", "PRD.md generated", "IMPLEMENTATION_PLAN.md created"]
      },
      {
        "id": "EPIC-004",
        "title": "The Guardrail System",
        "description": "Implement back pressure enforcement with compiler verification, test gates, and standards checking.",
        "feature_ids": ["FR-004"],
        "priority": "high",
        "estimated_sprints": 1,
        "success_criteria": ["Compiler wrapper works", "Test gate enforced", "KR standards auditable"]
      },
      {
        "id": "EPIC-005",
        "title": "The Shift Manager",
        "description": "Build strategic oversight controller with context monitoring, task assignment, and handoff protocol.",
        "feature_ids": ["FR-002"],
        "priority": "high",
        "estimated_sprints": 2,
        "success_criteria": ["Context monitoring at 60%", "Worker assignment works", "Handoff document generated"]
      },
      {
        "id": "EPIC-006",
        "title": "The Stateless Worker",
        "description": "Implement atomic task executor with fresh boot, Ralph Wiggum Loop, and self-destruct protocol.",
        "feature_ids": ["FR-003"],
        "priority": "high",
        "estimated_sprints": 2,
        "success_criteria": ["Fresh context boot", "Edit-Build-Test loop works", "Status fragment generated"]
      },
      {
        "id": "EPIC-007",
        "title": "The Orchestrator",
        "description": "Build process lifecycle manager with bash scripts for Manager/Worker spawning and error recovery.",
        "feature_ids": ["FR-005"],
        "priority": "high",
        "estimated_sprints": 1,
        "success_criteria": ["orchestrate.sh runs", "Exit codes handled", "Retry logic works"]
      },
      {
        "id": "EPIC-008",
        "title": "Node.js Watcher and WebSocket Bridge",
        "description": "Implement real-time file watching and Socket.io bridge for dashboard telemetry.",
        "feature_ids": ["FR-008"],
        "priority": "high",
        "estimated_sprints": 1,
        "success_criteria": ["File changes detected", "WebSocket emits work", "Sub-100ms latency"]
      },
      {
        "id": "EPIC-009",
        "title": "HTML Dashboard",
        "description": "Build neon-liquid industrial terminal UI with context bars, progress visualization, and guardrail status.",
        "feature_ids": ["FR-007"],
        "priority": "high",
        "estimated_sprints": 2,
        "success_criteria": ["Progress bars animate", "Real-time updates work", "Crisis button visible"]
      },
      {
        "id": "EPIC-010",
        "title": "Crisis Mode",
        "description": "Implement emergency override with process termination, git reset, and telemetry clearing.",
        "feature_ids": ["FR-009"],
        "priority": "high",
        "estimated_sprints": 1,
        "success_criteria": ["Processes killed in <2s", "Git reset works", "Telemetry cleared"]
      },
      {
        "id": "EPIC-011",
        "title": "Slash Commands",
        "description": "Implement CLI commands for seed, plan, loop, status, and digest operations.",
        "feature_ids": ["FR-010"],
        "priority": "high",
        "estimated_sprints": 1,
        "success_criteria": ["All 5 commands work", "Integration tested", "Help text available"]
      },
      {
        "id": "EPIC-012",
        "title": "Supporting Features",
        "description": "Build shift reports, post-crisis recovery, and final deployment/handoff features.",
        "feature_ids": ["FR-011", "FR-012", "FR-013"],
        "priority": "medium",
        "estimated_sprints": 1,
        "success_criteria": ["Shift reports generate", "Recovery analysis works", "README_CLIENT.md created"]
      }
    ],
    "tasks": [
      {
        "id": "TASK-001",
        "title": "Initialize Node.js project with TypeScript",
        "description": "Create package.json, tsconfig.json with strict mode, and install core dependencies (typescript, vitest, zod, express, socket.io).",
        "type": "devops",
        "epic_id": "EPIC-001",
        "feature_id": null,
        "story_ids": [],
        "entity_ids": [],
        "flow_ids": [],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": [],
        "blocked_by": [],
        "acceptance_criteria": ["package.json created", "tsconfig.json with strict mode", "npm install succeeds"],
        "definition_of_done": ["tsc --version runs", "vitest --version runs"],
        "technical_notes": "Use Node.js 18+ LTS, TypeScript 5+",
        "risks": [],
        "tags": ["infrastructure", "setup"],
        "context_plan": {
          "beginning_context": [],
          "end_state_files": ["package.json", "tsconfig.json", "vitest.config.ts"],
          "read_only_files": ["docs/prd.json"]
        },
        "testing_strategy": {
          "strategy_type": "smoke",
          "test_files": [],
          "success_criteria": ["npm run build succeeds"],
          "test_command": "npx tsc --noEmit"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["No source code yet"]
      },
      {
        "id": "TASK-002",
        "title": "Create directory structure for stateless engine",
        "description": "Create src/, .agent/, .ralph/, specs/, public/ directories following the file-based state architecture.",
        "type": "devops",
        "epic_id": "EPIC-001",
        "feature_id": null,
        "story_ids": [],
        "entity_ids": ["ENT-001"],
        "flow_ids": [],
        "journey_ids": [],
        "priority": "high",
        "story_points": 1,
        "estimated_hours": 0.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-001"],
        "blocked_by": [],
        "acceptance_criteria": ["All directories created", ".gitkeep files in empty dirs"],
        "definition_of_done": ["Directory structure matches ERD file paths"],
        "technical_notes": "Match ENT-001 through ENT-011 file_path attributes",
        "risks": [],
        "tags": ["infrastructure", "setup"],
        "context_plan": {
          "beginning_context": ["docs/erd.json"],
          "end_state_files": [".agent/.gitkeep", ".ralph/.gitkeep", "specs/.gitkeep", "src/.gitkeep", "public/.gitkeep"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "smoke",
          "test_files": [],
          "success_criteria": ["ls -la shows all directories"],
          "test_command": "ls -la .agent .ralph specs src public"
        },
        "estimated_time": "15 minutes",
        "scope_boundaries": ["Structure only, no files"]
      },
      {
        "id": "TASK-003",
        "title": "Create base Zod schemas for Project entity",
        "description": "Define ProjectSchema with id, name, owner_email, version, status, timestamps, and cost tracking fields per ENT-001.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-019"],
        "entity_ids": ["ENT-001"],
        "flow_ids": [],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-001"],
        "blocked_by": [],
        "acceptance_criteria": ["Schema validates correct data", "Schema rejects invalid data", "All ENT-001 attributes covered"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use Zod z.object with strict validation, enum for status",
        "risks": [],
        "tags": ["types", "zod", "schema"],
        "context_plan": {
          "beginning_context": ["docs/erd.json"],
          "end_state_files": ["src/schemas/project.schema.ts", "src/schemas/index.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/schemas/project.schema.test.ts"],
          "success_criteria": ["Valid data passes", "Invalid data throws ZodError"],
          "test_command": "npx vitest run tests/schemas/project.schema.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Project schema only"]
      },
      {
        "id": "TASK-004",
        "title": "Create Zod schemas for PRD and Specification entities",
        "description": "Define PRDSchema and SpecificationSchema with all attributes from ENT-002 and ENT-003.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-002", "ST-003"],
        "entity_ids": ["ENT-002", "ENT-003"],
        "flow_ids": [],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-003"],
        "blocked_by": [],
        "acceptance_criteria": ["PRDSchema matches ENT-002", "SpecificationSchema matches ENT-003"],
        "definition_of_done": ["Unit tests pass", "Named exports only"],
        "technical_notes": "Include semver validation, SHA256 format validation",
        "risks": [],
        "tags": ["types", "zod", "schema"],
        "context_plan": {
          "beginning_context": ["docs/erd.json", "src/schemas/project.schema.ts"],
          "end_state_files": ["src/schemas/prd.schema.ts", "src/schemas/specification.schema.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/schemas/prd.schema.test.ts", "tests/schemas/specification.schema.test.ts"],
          "success_criteria": ["All attributes validate correctly"],
          "test_command": "npx vitest run tests/schemas/prd.schema.test.ts tests/schemas/specification.schema.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["PRD and Specification only"]
      },
      {
        "id": "TASK-005",
        "title": "Create Zod schemas for ImplementationPlan and Task entities",
        "description": "Define ImplementationPlanSchema and TaskSchema with checkbox state, dependency layer, and atomicity constraints per ENT-004/ENT-005.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-004", "ST-019"],
        "entity_ids": ["ENT-004", "ENT-005"],
        "flow_ids": [],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-003"],
        "blocked_by": [],
        "acceptance_criteria": ["Task ID pattern ST-XXX validated", "Dependency layer enum works", "Atomicity constraints enforced"],
        "definition_of_done": ["Unit tests pass", "Named exports only"],
        "technical_notes": "Task constraints: max_files <= 10, max_loc <= 300, estimated_minutes 5-60",
        "risks": [],
        "tags": ["types", "zod", "schema"],
        "context_plan": {
          "beginning_context": ["docs/erd.json", "src/schemas/index.ts"],
          "end_state_files": ["src/schemas/implementation-plan.schema.ts", "src/schemas/task.schema.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/schemas/task.schema.test.ts"],
          "success_criteria": ["Atomic task constraints validated"],
          "test_command": "npx vitest run tests/schemas/task.schema.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Plan and Task schemas only"]
      },
      {
        "id": "TASK-006",
        "title": "Create Zod schemas for ADR and ShiftReport entities",
        "description": "Define ADRSchema and ShiftReportSchema with rationale, keywords, and completion status per ENT-006/ENT-007.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-007", "ST-020", "ST-038"],
        "entity_ids": ["ENT-006", "ENT-007"],
        "flow_ids": [],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-003"],
        "blocked_by": [],
        "acceptance_criteria": ["ADR ID pattern ADR-XXX validated", "Rationale min length 50 chars"],
        "definition_of_done": ["Unit tests pass", "Named exports only"],
        "technical_notes": "Include JSON arrays for alternatives_considered, tasks_completed",
        "risks": [],
        "tags": ["types", "zod", "schema"],
        "context_plan": {
          "beginning_context": ["docs/erd.json", "src/schemas/index.ts"],
          "end_state_files": ["src/schemas/adr.schema.ts", "src/schemas/shift-report.schema.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/schemas/adr.schema.test.ts"],
          "success_criteria": ["ADR validates with commit hash"],
          "test_command": "npx vitest run tests/schemas/adr.schema.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["ADR and ShiftReport only"]
      },
      {
        "id": "TASK-007",
        "title": "Create Zod schemas for Telemetry and runtime entities",
        "description": "Define TelemetrySchema, ShiftHandoffSchema, CompilerErrorSchema, StatusFragmentSchema per ENT-008 through ENT-011.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-008", "ST-011", "ST-021"],
        "entity_ids": ["ENT-008", "ENT-009", "ENT-010", "ENT-011"],
        "flow_ids": [],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-003"],
        "blocked_by": [],
        "acceptance_criteria": ["Telemetry context zones validated", "Error truncation to 1000 tokens", "StatusFragment max 500 tokens"],
        "definition_of_done": ["Unit tests pass", "Named exports only"],
        "technical_notes": "Zone enum: smart, degrading, dumb. Context fill 0-100%.",
        "risks": [],
        "tags": ["types", "zod", "schema"],
        "context_plan": {
          "beginning_context": ["docs/erd.json", "src/schemas/index.ts"],
          "end_state_files": ["src/schemas/telemetry.schema.ts", "src/schemas/shift-handoff.schema.ts", "src/schemas/compiler-error.schema.ts", "src/schemas/status-fragment.schema.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/schemas/telemetry.schema.test.ts"],
          "success_criteria": ["Zone transitions validate"],
          "test_command": "npx vitest run tests/schemas/telemetry.schema.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Runtime schemas only"]
      },
      {
        "id": "TASK-008",
        "title": "Implement FileStateManager base class",
        "description": "Create abstract FileStateManager with read, write, watch, and hash methods for JSON/Markdown file operations.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-019"],
        "entity_ids": ["ENT-001"],
        "flow_ids": ["FLOW-011"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-003"],
        "blocked_by": [],
        "acceptance_criteria": ["Read/write JSON files", "Read/write Markdown files", "SHA256 hash generation"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use fs/promises, crypto for hashing",
        "risks": ["File system permissions"],
        "tags": ["services", "filesystem"],
        "context_plan": {
          "beginning_context": ["src/schemas/index.ts"],
          "end_state_files": ["src/services/file-state-manager.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/services/file-state-manager.test.ts"],
          "success_criteria": ["File operations work", "Hashes match"],
          "test_command": "npx vitest run tests/services/file-state-manager.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Base class only"]
      },
      {
        "id": "TASK-009",
        "title": "Implement ProjectStateManager",
        "description": "Create ProjectStateManager extending FileStateManager for .agent/project.json operations.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-019"],
        "entity_ids": ["ENT-001"],
        "flow_ids": ["FLOW-011"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-008", "TASK-003"],
        "blocked_by": [],
        "acceptance_criteria": ["Create project", "Load project", "Update status"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Validate with ProjectSchema before write",
        "risks": [],
        "tags": ["services", "state"],
        "context_plan": {
          "beginning_context": ["src/services/file-state-manager.ts", "src/schemas/project.schema.ts"],
          "end_state_files": ["src/services/project-state-manager.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/services/project-state-manager.test.ts"],
          "success_criteria": ["CRUD operations work"],
          "test_command": "npx vitest run tests/services/project-state-manager.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Project state only"]
      },
      {
        "id": "TASK-010",
        "title": "Implement ImplementationPlanManager",
        "description": "Create manager for IMPLEMENTATION_PLAN.md with checkbox parsing, progress calculation, and task ordering.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-019"],
        "entity_ids": ["ENT-004", "ENT-005"],
        "flow_ids": ["FLOW-011"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-008", "TASK-005"],
        "blocked_by": [],
        "acceptance_criteria": ["Parse [ ] and [x] checkboxes", "Calculate progress %", "Get next unchecked task"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use regex for checkbox matching: /\\[([ x])\\]/",
        "risks": [],
        "tags": ["services", "state", "roadmap"],
        "context_plan": {
          "beginning_context": ["src/services/file-state-manager.ts", "src/schemas/task.schema.ts"],
          "end_state_files": ["src/services/implementation-plan-manager.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/services/implementation-plan-manager.test.ts"],
          "success_criteria": ["Progress calculates correctly", "Next task returns correctly"],
          "test_command": "npx vitest run tests/services/implementation-plan-manager.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Plan manager only"]
      },
      {
        "id": "TASK-011",
        "title": "Implement TelemetryManager for .ralph/telemetry.json",
        "description": "Create TelemetryManager with context fill calculation, zone detection, and atomic JSON updates.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-026"],
        "entity_ids": ["ENT-009"],
        "flow_ids": ["FLOW-013"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-008", "TASK-007"],
        "blocked_by": [],
        "acceptance_criteria": ["Calculate context_fill_percent", "Detect zone transitions", "Atomic file updates"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Zone: smart (<40%), degrading (40-60%), dumb (>60%)",
        "risks": ["Race conditions on file write"],
        "tags": ["services", "telemetry"],
        "context_plan": {
          "beginning_context": ["src/services/file-state-manager.ts", "src/schemas/telemetry.schema.ts"],
          "end_state_files": ["src/services/telemetry-manager.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/services/telemetry-manager.test.ts"],
          "success_criteria": ["Zone detection works", "Context fill calculates"],
          "test_command": "npx vitest run tests/services/telemetry-manager.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Telemetry only"]
      },
      {
        "id": "TASK-012",
        "title": "Implement ADRManager for .agent/ADR.md",
        "description": "Create ADRManager with chronological append, commit linking, and RipGrep-friendly keyword formatting.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-007", "ST-020"],
        "entity_ids": ["ENT-006"],
        "flow_ids": ["FLOW-004"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-008", "TASK-006"],
        "blocked_by": [],
        "acceptance_criteria": ["Append ADR entries", "Link to commit hash", "Get last N entries"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Format: ## ADR-XXX: Title\\n**Decision:** ...\\n**Rationale:** ...",
        "risks": [],
        "tags": ["services", "adr"],
        "context_plan": {
          "beginning_context": ["src/services/file-state-manager.ts", "src/schemas/adr.schema.ts"],
          "end_state_files": ["src/services/adr-manager.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/services/adr-manager.test.ts"],
          "success_criteria": ["ADR appends correctly", "Keyword search works"],
          "test_command": "npx vitest run tests/services/adr-manager.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["ADR manager only"]
      },
      {
        "id": "TASK-013",
        "title": "Implement CompilerErrorManager for LAST_COMPILER_ERROR.log",
        "description": "Create manager for error capture, truncation to 1000 tokens, and clearing on success.",
        "type": "backend",
        "epic_id": "EPIC-002",
        "feature_id": "FR-006",
        "story_ids": ["ST-021"],
        "entity_ids": ["ENT-010"],
        "flow_ids": ["FLOW-006"],
        "journey_ids": ["JRN-005"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-008", "TASK-007"],
        "blocked_by": [],
        "acceptance_criteria": ["Capture compiler output", "Truncate to 1000 tokens", "Clear on success"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Token estimation: ~4 chars per token",
        "risks": [],
        "tags": ["services", "errors"],
        "context_plan": {
          "beginning_context": ["src/services/file-state-manager.ts", "src/schemas/compiler-error.schema.ts"],
          "end_state_files": ["src/services/compiler-error-manager.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/services/compiler-error-manager.test.ts"],
          "success_criteria": ["Error truncates correctly", "Clear works"],
          "test_command": "npx vitest run tests/services/compiler-error-manager.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Error manager only"]
      },
      {
        "id": "TASK-014",
        "title": "Implement BrainstormParser for voice separation",
        "description": "Create parser to separate 'Voice of Client' (requirements) from 'Voice of Engineer' (constraints) in raw brainstorm.",
        "type": "backend",
        "epic_id": "EPIC-003",
        "feature_id": "FR-001",
        "story_ids": ["ST-001"],
        "entity_ids": ["ENT-002"],
        "flow_ids": ["FLOW-001"],
        "journey_ids": ["JRN-001"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-004"],
        "blocked_by": [],
        "acceptance_criteria": ["Parse raw transcript", "Separate client vs engineer voice", "Filter conversational noise"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use heuristics: questions=client, technical terms=engineer",
        "risks": ["Accuracy of voice separation"],
        "tags": ["services", "distiller", "parser"],
        "context_plan": {
          "beginning_context": ["docs/prd.json", "src/schemas/prd.schema.ts"],
          "end_state_files": ["src/distiller/brainstorm-parser.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/distiller/brainstorm-parser.test.ts"],
          "success_criteria": ["Voice separation works on sample data"],
          "test_command": "npx vitest run tests/distiller/brainstorm-parser.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Parser only, no PRD generation"]
      },
      {
        "id": "TASK-015",
        "title": "Implement PatternAnalyzer with RipGrep integration",
        "description": "Create analyzer that executes minimum 15 RipGrep searches to identify existing codebase patterns.",
        "type": "backend",
        "epic_id": "EPIC-003",
        "feature_id": "FR-001",
        "story_ids": ["ST-003"],
        "entity_ids": ["ENT-003"],
        "flow_ids": ["FLOW-001"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-008"],
        "blocked_by": [],
        "acceptance_criteria": ["Execute RipGrep searches", "Minimum 15 patterns analyzed", "Return keyword map"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use child_process.exec for rg command, parse JSON output",
        "risks": ["RipGrep not installed"],
        "tags": ["services", "distiller", "ripgrep"],
        "context_plan": {
          "beginning_context": ["src/services/file-state-manager.ts"],
          "end_state_files": ["src/distiller/pattern-analyzer.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/distiller/pattern-analyzer.test.ts"],
          "success_criteria": ["RipGrep executes", "Patterns extracted"],
          "test_command": "npx vitest run tests/distiller/pattern-analyzer.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Pattern analysis only"]
      },
      {
        "id": "TASK-016",
        "title": "Implement PRDGenerator for specs/PRD.md",
        "description": "Create generator that produces PRD.md with User Stories, Business Logic, and Success Criteria from parsed brainstorm.",
        "type": "backend",
        "epic_id": "EPIC-003",
        "feature_id": "FR-001",
        "story_ids": ["ST-002"],
        "entity_ids": ["ENT-002"],
        "flow_ids": ["FLOW-001"],
        "journey_ids": ["JRN-001"],
        "priority": "high",
        "story_points": 4,
        "estimated_hours": 2,
        "assignee": "backend_developer",
        "dependencies": ["TASK-014", "TASK-004"],
        "blocked_by": [],
        "acceptance_criteria": ["Generate PRD.md", "Include user stories", "Include success criteria"],
        "definition_of_done": ["Unit tests pass", "Output validates against PRDSchema"],
        "technical_notes": "Follow KreativReason documentation standards",
        "risks": [],
        "tags": ["services", "distiller", "prd"],
        "context_plan": {
          "beginning_context": ["src/distiller/brainstorm-parser.ts", "src/schemas/prd.schema.ts"],
          "end_state_files": ["src/distiller/prd-generator.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/distiller/prd-generator.test.ts"],
          "success_criteria": ["PRD.md generates correctly"],
          "test_command": "npx vitest run tests/distiller/prd-generator.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["PRD generation only"]
      },
      {
        "id": "TASK-017",
        "title": "Implement PINGenerator for specs/index.md",
        "description": "Create generator for keyword-rich specification index (PIN) optimized for RipGrep searches.",
        "type": "backend",
        "epic_id": "EPIC-003",
        "feature_id": "FR-001",
        "story_ids": ["ST-003"],
        "entity_ids": ["ENT-003"],
        "flow_ids": ["FLOW-001"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-016", "TASK-015"],
        "blocked_by": [],
        "acceptance_criteria": ["Generate index.md", "Include project keywords", "Reference all specs files"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Format for fast RipGrep lookups",
        "risks": [],
        "tags": ["services", "distiller", "pin"],
        "context_plan": {
          "beginning_context": ["src/distiller/prd-generator.ts", "src/distiller/pattern-analyzer.ts"],
          "end_state_files": ["src/distiller/pin-generator.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/distiller/pin-generator.test.ts"],
          "success_criteria": ["Index generates with keywords"],
          "test_command": "npx vitest run tests/distiller/pin-generator.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["PIN generation only"]
      },
      {
        "id": "TASK-018",
        "title": "Implement AtomicTaskBreakdown for implementation plan",
        "description": "Create breakdown logic that produces tasks: 15-30 min, 3-5 files, <150 LOC, ordered by dependency layer.",
        "type": "backend",
        "epic_id": "EPIC-003",
        "feature_id": "FR-001",
        "story_ids": ["ST-004"],
        "entity_ids": ["ENT-004", "ENT-005"],
        "flow_ids": ["FLOW-001"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 4,
        "estimated_hours": 2,
        "assignee": "backend_developer",
        "dependencies": ["TASK-016", "TASK-005"],
        "blocked_by": [],
        "acceptance_criteria": ["Tasks are atomic", "Ordered: DB->Types->Services->API->UI", "Include verification commands"],
        "definition_of_done": ["Unit tests pass", "Tasks validate against TaskSchema"],
        "technical_notes": "Each task must reference KreativReason guide",
        "risks": ["Task granularity estimation"],
        "tags": ["services", "distiller", "tasks"],
        "context_plan": {
          "beginning_context": ["src/distiller/prd-generator.ts", "src/schemas/task.schema.ts"],
          "end_state_files": ["src/distiller/atomic-task-breakdown.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/distiller/atomic-task-breakdown.test.ts"],
          "success_criteria": ["Tasks meet atomicity constraints"],
          "test_command": "npx vitest run tests/distiller/atomic-task-breakdown.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Task breakdown only"]
      },
      {
        "id": "TASK-019",
        "title": "Implement Distiller orchestrator service",
        "description": "Create main Distiller service that orchestrates parser, analyzer, PRD generator, PIN generator, and task breakdown.",
        "type": "backend",
        "epic_id": "EPIC-003",
        "feature_id": "FR-001",
        "story_ids": ["ST-001", "ST-002", "ST-003", "ST-004"],
        "entity_ids": ["ENT-002", "ENT-003", "ENT-004"],
        "flow_ids": ["FLOW-001"],
        "journey_ids": ["JRN-001"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-014", "TASK-015", "TASK-016", "TASK-017", "TASK-018"],
        "blocked_by": [],
        "acceptance_criteria": ["Full distillation pipeline works", "Processing <60s for 50KB file"],
        "definition_of_done": ["Integration tests pass", "Named export only"],
        "technical_notes": "Orchestrate all sub-components",
        "risks": [],
        "tags": ["services", "distiller"],
        "context_plan": {
          "beginning_context": ["src/distiller/*.ts"],
          "end_state_files": ["src/distiller/index.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/distiller/distiller.integration.test.ts"],
          "success_criteria": ["End-to-end distillation works"],
          "test_command": "npx vitest run tests/distiller/distiller.integration.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Orchestration only"]
      },
      {
        "id": "TASK-020",
        "title": "Implement CompilerVerifier wrapper",
        "description": "Create wrapper for TypeScript compiler (tsc) that captures exit code, stdout, stderr for guardrail checks.",
        "type": "backend",
        "epic_id": "EPIC-004",
        "feature_id": "FR-004",
        "story_ids": ["ST-013"],
        "entity_ids": ["ENT-010"],
        "flow_ids": ["FLOW-008"],
        "journey_ids": ["JRN-005"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-013"],
        "blocked_by": [],
        "acceptance_criteria": ["Execute tsc", "Capture exit code", "Parse error output"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use child_process.spawn for real-time output",
        "risks": ["tsc not in PATH"],
        "tags": ["services", "guardrails", "compiler"],
        "context_plan": {
          "beginning_context": ["src/services/compiler-error-manager.ts"],
          "end_state_files": ["src/guardrails/compiler-verifier.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/guardrails/compiler-verifier.test.ts"],
          "success_criteria": ["Compiler runs", "Exit code captured"],
          "test_command": "npx vitest run tests/guardrails/compiler-verifier.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Compiler wrapper only"]
      },
      {
        "id": "TASK-021",
        "title": "Implement TestGate for unit test verification",
        "description": "Create test gate that runs vitest, captures results, and enforces coverage targets (>90% services, >80% controllers).",
        "type": "backend",
        "epic_id": "EPIC-004",
        "feature_id": "FR-004",
        "story_ids": ["ST-014"],
        "entity_ids": [],
        "flow_ids": ["FLOW-008"],
        "journey_ids": ["JRN-005"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-020"],
        "blocked_by": [],
        "acceptance_criteria": ["Execute vitest", "Parse coverage report", "Enforce coverage targets"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use vitest --coverage --reporter=json",
        "risks": [],
        "tags": ["services", "guardrails", "testing"],
        "context_plan": {
          "beginning_context": ["src/guardrails/compiler-verifier.ts"],
          "end_state_files": ["src/guardrails/test-gate.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/guardrails/test-gate.test.ts"],
          "success_criteria": ["Tests run", "Coverage parsed"],
          "test_command": "npx vitest run tests/guardrails/test-gate.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Test gate only"]
      },
      {
        "id": "TASK-022",
        "title": "Implement KRStandardsChecker for code audits",
        "description": "Create checker that audits for: tenantId in queries, Zod validation, named exports only (no export default).",
        "type": "backend",
        "epic_id": "EPIC-004",
        "feature_id": "FR-004",
        "story_ids": ["ST-015"],
        "entity_ids": [],
        "flow_ids": ["FLOW-008"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-015"],
        "blocked_by": [],
        "acceptance_criteria": ["Check tenantId presence", "Check Zod usage", "Check export patterns"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use RipGrep for pattern matching",
        "risks": [],
        "tags": ["services", "guardrails", "standards"],
        "context_plan": {
          "beginning_context": ["src/distiller/pattern-analyzer.ts"],
          "end_state_files": ["src/guardrails/kr-standards-checker.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/guardrails/kr-standards-checker.test.ts"],
          "success_criteria": ["Standards violations detected"],
          "test_command": "npx vitest run tests/guardrails/kr-standards-checker.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Standards checker only"]
      },
      {
        "id": "TASK-023",
        "title": "Implement GuardrailSystem orchestrator",
        "description": "Create main guardrail service orchestrating compiler, test gate, and standards checker with unified status.",
        "type": "backend",
        "epic_id": "EPIC-004",
        "feature_id": "FR-004",
        "story_ids": ["ST-013", "ST-014", "ST-015"],
        "entity_ids": ["ENT-009"],
        "flow_ids": ["FLOW-008"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-020", "TASK-021", "TASK-022"],
        "blocked_by": [],
        "acceptance_criteria": ["Run all checks", "Return unified status", "Update telemetry"],
        "definition_of_done": ["Integration tests pass", "Named export only"],
        "technical_notes": "Update telemetry.guardrail_status",
        "risks": [],
        "tags": ["services", "guardrails"],
        "context_plan": {
          "beginning_context": ["src/guardrails/*.ts", "src/services/telemetry-manager.ts"],
          "end_state_files": ["src/guardrails/index.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/guardrails/guardrails.integration.test.ts"],
          "success_criteria": ["All guardrails run"],
          "test_command": "npx vitest run tests/guardrails/guardrails.integration.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Orchestration only"]
      },
      {
        "id": "TASK-024",
        "title": "Implement ContextMonitor for Manager",
        "description": "Create monitor that calculates context_fill_percent = (total_tokens / 200000) * 100 and triggers rotation at 60%.",
        "type": "backend",
        "epic_id": "EPIC-005",
        "feature_id": "FR-002",
        "story_ids": ["ST-005"],
        "entity_ids": ["ENT-009"],
        "flow_ids": ["FLOW-002"],
        "journey_ids": ["JRN-004"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-011"],
        "blocked_by": [],
        "acceptance_criteria": ["Calculate context fill", "Detect 60% threshold", "Signal rotation"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Context window size: 200000 tokens",
        "risks": [],
        "tags": ["services", "manager", "context"],
        "context_plan": {
          "beginning_context": ["src/services/telemetry-manager.ts"],
          "end_state_files": ["src/manager/context-monitor.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/manager/context-monitor.test.ts"],
          "success_criteria": ["Threshold detection works"],
          "test_command": "npx vitest run tests/manager/context-monitor.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Context monitor only"]
      },
      {
        "id": "TASK-025",
        "title": "Implement TaskSelector for Worker assignment",
        "description": "Create selector that picks next unchecked task from IMPLEMENTATION_PLAN.md with minimal context injection.",
        "type": "backend",
        "epic_id": "EPIC-005",
        "feature_id": "FR-002",
        "story_ids": ["ST-006"],
        "entity_ids": ["ENT-004", "ENT-005"],
        "flow_ids": ["FLOW-003"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-010"],
        "blocked_by": [],
        "acceptance_criteria": ["Select next unchecked task", "Prepare minimal context", "Write current_task.md"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Inject only: Mission, Guardrails paths, Back Pressure requirement",
        "risks": [],
        "tags": ["services", "manager", "tasks"],
        "context_plan": {
          "beginning_context": ["src/services/implementation-plan-manager.ts"],
          "end_state_files": ["src/manager/task-selector.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/manager/task-selector.test.ts"],
          "success_criteria": ["Task selection works"],
          "test_command": "npx vitest run tests/manager/task-selector.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Task selection only"]
      },
      {
        "id": "TASK-026",
        "title": "Implement ShiftHandoffWriter",
        "description": "Create writer for SHIFT_HANDOFF.md with Accomplishments, Architecture Delta, Blockers, and last 5 ADRs.",
        "type": "backend",
        "epic_id": "EPIC-005",
        "feature_id": "FR-002",
        "story_ids": ["ST-008"],
        "entity_ids": ["ENT-008"],
        "flow_ids": ["FLOW-005"],
        "journey_ids": ["JRN-004"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-012", "TASK-007"],
        "blocked_by": [],
        "acceptance_criteria": ["Generate handoff document", "Include last 5 ADRs", "Verify roadmap accuracy"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Format for quick Manager onboarding",
        "risks": [],
        "tags": ["services", "manager", "handoff"],
        "context_plan": {
          "beginning_context": ["src/services/adr-manager.ts", "src/schemas/shift-handoff.schema.ts"],
          "end_state_files": ["src/manager/shift-handoff-writer.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/manager/shift-handoff-writer.test.ts"],
          "success_criteria": ["Handoff generates correctly"],
          "test_command": "npx vitest run tests/manager/shift-handoff-writer.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Handoff writer only"]
      },
      {
        "id": "TASK-027",
        "title": "Implement ShiftManager main service",
        "description": "Create main Manager service with context monitoring loop, task assignment, ADR logging, and handoff protocol.",
        "type": "backend",
        "epic_id": "EPIC-005",
        "feature_id": "FR-002",
        "story_ids": ["ST-005", "ST-006", "ST-007", "ST-008"],
        "entity_ids": ["ENT-006", "ENT-008", "ENT-009"],
        "flow_ids": ["FLOW-002", "FLOW-003", "FLOW-004", "FLOW-005"],
        "journey_ids": ["JRN-002", "JRN-004"],
        "priority": "high",
        "story_points": 4,
        "estimated_hours": 2,
        "assignee": "backend_developer",
        "dependencies": ["TASK-024", "TASK-025", "TASK-026", "TASK-012"],
        "blocked_by": [],
        "acceptance_criteria": ["Full Manager lifecycle", "Exit code 10 for rotation", "Exit code 0 for completion"],
        "definition_of_done": ["Integration tests pass", "Named export only"],
        "technical_notes": "Orchestrate all Manager sub-components",
        "risks": [],
        "tags": ["services", "manager"],
        "context_plan": {
          "beginning_context": ["src/manager/*.ts"],
          "end_state_files": ["src/manager/index.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/manager/manager.integration.test.ts"],
          "success_criteria": ["Manager lifecycle works"],
          "test_command": "npx vitest run tests/manager/manager.integration.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Manager orchestration only"]
      },
      {
        "id": "TASK-028",
        "title": "Implement RalphWiggumLoop executor",
        "description": "Create loop executor: Edit -> Build (tsc) -> Test (vitest) -> Fix cycle with max 5 retries.",
        "type": "backend",
        "epic_id": "EPIC-006",
        "feature_id": "FR-003",
        "story_ids": ["ST-010"],
        "entity_ids": ["ENT-010"],
        "flow_ids": ["FLOW-006", "SFLOW-004"],
        "journey_ids": ["JRN-005"],
        "priority": "high",
        "story_points": 4,
        "estimated_hours": 2,
        "assignee": "backend_developer",
        "dependencies": ["TASK-023", "TASK-013"],
        "blocked_by": [],
        "acceptance_criteria": ["Edit-Build-Test loop works", "Max 5 retries", "Error capture to log"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Core Worker execution logic",
        "risks": ["Infinite loop prevention"],
        "tags": ["services", "worker", "ralph-loop"],
        "context_plan": {
          "beginning_context": ["src/guardrails/index.ts", "src/services/compiler-error-manager.ts"],
          "end_state_files": ["src/worker/ralph-wiggum-loop.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/worker/ralph-wiggum-loop.test.ts"],
          "success_criteria": ["Loop executes correctly", "Retry limit enforced"],
          "test_command": "npx vitest run tests/worker/ralph-wiggum-loop.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Loop executor only"]
      },
      {
        "id": "TASK-029",
        "title": "Implement StatusFragmentGenerator",
        "description": "Create generator for Worker status fragment (<500 tokens): what was fixed, changed, patterns used, file paths.",
        "type": "backend",
        "epic_id": "EPIC-006",
        "feature_id": "FR-003",
        "story_ids": ["ST-011"],
        "entity_ids": ["ENT-011"],
        "flow_ids": ["FLOW-007"],
        "journey_ids": ["JRN-005"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-007"],
        "blocked_by": [],
        "acceptance_criteria": ["Generate compact fragment", "Max 500 tokens", "Include file paths"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Write to .agent/status_fragment.md",
        "risks": [],
        "tags": ["services", "worker", "status"],
        "context_plan": {
          "beginning_context": ["src/schemas/status-fragment.schema.ts"],
          "end_state_files": ["src/worker/status-fragment-generator.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/worker/status-fragment-generator.test.ts"],
          "success_criteria": ["Fragment generates correctly"],
          "test_command": "npx vitest run tests/worker/status-fragment-generator.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Fragment generator only"]
      },
      {
        "id": "TASK-030",
        "title": "Implement StatelessWorker main service",
        "description": "Create main Worker service with fresh boot, context injection, Ralph loop, status fragment, and self-destruct.",
        "type": "backend",
        "epic_id": "EPIC-006",
        "feature_id": "FR-003",
        "story_ids": ["ST-009", "ST-010", "ST-011", "ST-012"],
        "entity_ids": ["ENT-009", "ENT-010", "ENT-011"],
        "flow_ids": ["FLOW-006", "FLOW-007"],
        "journey_ids": ["JRN-005"],
        "priority": "high",
        "story_points": 4,
        "estimated_hours": 2,
        "assignee": "backend_developer",
        "dependencies": ["TASK-028", "TASK-029", "TASK-011"],
        "blocked_by": [],
        "acceptance_criteria": ["Fresh context boot", "Complete Ralph loop", "Generate status", "Self-destruct"],
        "definition_of_done": ["Integration tests pass", "Named export only"],
        "technical_notes": "Worker context fill should stay <40%",
        "risks": [],
        "tags": ["services", "worker"],
        "context_plan": {
          "beginning_context": ["src/worker/*.ts", "src/services/telemetry-manager.ts"],
          "end_state_files": ["src/worker/index.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/worker/worker.integration.test.ts"],
          "success_criteria": ["Worker lifecycle works"],
          "test_command": "npx vitest run tests/worker/worker.integration.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Worker orchestration only"]
      },
      {
        "id": "TASK-031",
        "title": "Create orchestrate.sh bash script",
        "description": "Create main orchestration script that manages Manager lifecycle with exit code handling (0=complete, 10=rotate).",
        "type": "devops",
        "epic_id": "EPIC-007",
        "feature_id": "FR-005",
        "story_ids": ["ST-016"],
        "entity_ids": [],
        "flow_ids": ["FLOW-009"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-027"],
        "blocked_by": [],
        "acceptance_criteria": ["Launch Manager", "Handle exit codes", "Restart on rotation"],
        "definition_of_done": ["Script runs", "Exit codes handled"],
        "technical_notes": "Use while loop with exit code checking",
        "risks": ["Bash compatibility"],
        "tags": ["devops", "orchestrator", "bash"],
        "context_plan": {
          "beginning_context": ["src/manager/index.ts"],
          "end_state_files": ["scripts/orchestrate.sh"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "smoke",
          "test_files": [],
          "success_criteria": ["Script executes without error"],
          "test_command": "bash -n scripts/orchestrate.sh"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Script only"]
      },
      {
        "id": "TASK-032",
        "title": "Implement Worker spawning in orchestrator",
        "description": "Add Worker spawning logic to orchestrator with fresh context, minimal injection, and process killing.",
        "type": "devops",
        "epic_id": "EPIC-007",
        "feature_id": "FR-005",
        "story_ids": ["ST-017"],
        "entity_ids": [],
        "flow_ids": ["FLOW-010"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-031", "TASK-030"],
        "blocked_by": [],
        "acceptance_criteria": ["Spawn Worker process", "Kill after completion", "Reset telemetry"],
        "definition_of_done": ["Worker spawning works"],
        "technical_notes": "Use Node.js child_process or bash subprocess",
        "risks": ["Zombie processes"],
        "tags": ["devops", "orchestrator", "spawn"],
        "context_plan": {
          "beginning_context": ["scripts/orchestrate.sh", "src/worker/index.ts"],
          "end_state_files": ["scripts/orchestrate.sh", "src/orchestrator/worker-spawner.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/orchestrator/worker-spawner.test.ts"],
          "success_criteria": ["Worker spawns and dies"],
          "test_command": "npx vitest run tests/orchestrator/worker-spawner.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Worker spawning only"]
      },
      {
        "id": "TASK-033",
        "title": "Implement error recovery with retry logic",
        "description": "Add error recovery to orchestrator: 5-second sleep, crash logging, max 3 consecutive retries.",
        "type": "devops",
        "epic_id": "EPIC-007",
        "feature_id": "FR-005",
        "story_ids": ["ST-018"],
        "entity_ids": [],
        "flow_ids": ["FLOW-010", "SFLOW-008"],
        "journey_ids": [],
        "priority": "medium",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-032"],
        "blocked_by": [],
        "acceptance_criteria": ["Detect crashes", "Retry with delay", "Halt after 3 failures"],
        "definition_of_done": ["Retry logic works"],
        "technical_notes": "Log crash info for debugging",
        "risks": [],
        "tags": ["devops", "orchestrator", "recovery"],
        "context_plan": {
          "beginning_context": ["scripts/orchestrate.sh"],
          "end_state_files": ["scripts/orchestrate.sh", "src/orchestrator/error-recovery.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/orchestrator/error-recovery.test.ts"],
          "success_criteria": ["Retry logic triggers correctly"],
          "test_command": "npx vitest run tests/orchestrator/error-recovery.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Error recovery only"]
      },
      {
        "id": "TASK-034",
        "title": "Implement FileWatcher for telemetry.json",
        "description": "Create file watcher using fs.watch for .ralph/telemetry.json with debouncing and error handling.",
        "type": "backend",
        "epic_id": "EPIC-008",
        "feature_id": "FR-008",
        "story_ids": ["ST-026"],
        "entity_ids": ["ENT-009"],
        "flow_ids": ["FLOW-013", "SFLOW-007"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-011"],
        "blocked_by": [],
        "acceptance_criteria": ["Watch file changes", "Handle partial writes", "Sub-100ms latency"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Debounce to handle rapid writes",
        "risks": ["File system events reliability"],
        "tags": ["services", "watcher", "filesystem"],
        "context_plan": {
          "beginning_context": ["src/services/telemetry-manager.ts"],
          "end_state_files": ["src/watcher/file-watcher.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/watcher/file-watcher.test.ts"],
          "success_criteria": ["File changes detected"],
          "test_command": "npx vitest run tests/watcher/file-watcher.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["File watcher only"]
      },
      {
        "id": "TASK-035",
        "title": "Implement RoadmapWatcher for progress calculation",
        "description": "Create watcher for IMPLEMENTATION_PLAN.md that counts checkboxes and emits progress updates.",
        "type": "backend",
        "epic_id": "EPIC-008",
        "feature_id": "FR-008",
        "story_ids": ["ST-027"],
        "entity_ids": ["ENT-004"],
        "flow_ids": ["FLOW-013"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-034", "TASK-010"],
        "blocked_by": [],
        "acceptance_criteria": ["Watch roadmap changes", "Count [x] vs [ ]", "Emit progress %"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Use fs.watchFile for Markdown",
        "risks": [],
        "tags": ["services", "watcher", "roadmap"],
        "context_plan": {
          "beginning_context": ["src/watcher/file-watcher.ts", "src/services/implementation-plan-manager.ts"],
          "end_state_files": ["src/watcher/roadmap-watcher.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/watcher/roadmap-watcher.test.ts"],
          "success_criteria": ["Progress updates emit"],
          "test_command": "npx vitest run tests/watcher/roadmap-watcher.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Roadmap watcher only"]
      },
      {
        "id": "TASK-036",
        "title": "Implement Express server with Socket.io",
        "description": "Create Express server serving static files from /public with Socket.io for real-time WebSocket communication.",
        "type": "backend",
        "epic_id": "EPIC-008",
        "feature_id": "FR-008",
        "story_ids": ["ST-028"],
        "entity_ids": [],
        "flow_ids": ["FLOW-013"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-001"],
        "blocked_by": [],
        "acceptance_criteria": ["Serve /public directory", "Socket.io connected", "localhost:3000 accessible"],
        "definition_of_done": ["Server starts", "Named export only"],
        "technical_notes": "Handle multiple concurrent connections",
        "risks": [],
        "tags": ["services", "watcher", "websocket"],
        "context_plan": {
          "beginning_context": ["package.json"],
          "end_state_files": ["src/watcher/server.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/watcher/server.test.ts"],
          "success_criteria": ["Server responds", "WebSocket connects"],
          "test_command": "npx vitest run tests/watcher/server.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Server setup only"]
      },
      {
        "id": "TASK-037",
        "title": "Implement WatcherService with event emission",
        "description": "Create main watcher service that connects file watchers to Socket.io and emits telemetry/roadmap events.",
        "type": "backend",
        "epic_id": "EPIC-008",
        "feature_id": "FR-008",
        "story_ids": ["ST-026", "ST-027", "ST-028"],
        "entity_ids": ["ENT-009"],
        "flow_ids": ["FLOW-013", "SFLOW-005"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-034", "TASK-035", "TASK-036"],
        "blocked_by": [],
        "acceptance_criteria": ["Emit telemetry events", "Emit roadmap events", "Handle disconnects"],
        "definition_of_done": ["Integration tests pass", "Named export only"],
        "technical_notes": "Bridge file changes to WebSocket",
        "risks": [],
        "tags": ["services", "watcher"],
        "context_plan": {
          "beginning_context": ["src/watcher/*.ts"],
          "end_state_files": ["src/watcher/index.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/watcher/watcher.integration.test.ts"],
          "success_criteria": ["Events emit to connected clients"],
          "test_command": "npx vitest run tests/watcher/watcher.integration.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Watcher service only"]
      },
      {
        "id": "TASK-038",
        "title": "Create HTML dashboard base structure",
        "description": "Create index.html with neon-liquid industrial terminal layout: header, context bars, roadmap, guardrails, crisis button.",
        "type": "frontend",
        "epic_id": "EPIC-009",
        "feature_id": "FR-007",
        "story_ids": ["ST-022"],
        "entity_ids": [],
        "flow_ids": ["FLOW-012"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "frontend_developer",
        "dependencies": ["TASK-002"],
        "blocked_by": [],
        "acceptance_criteria": ["HTML structure complete", "Sections for all dashboard panels", "Crisis button visible"],
        "definition_of_done": ["HTML validates", "Loads in browser"],
        "technical_notes": "Use semantic HTML5, dark theme colors #0d1117, #161b22",
        "risks": [],
        "tags": ["frontend", "dashboard", "html"],
        "context_plan": {
          "beginning_context": ["docs/prd.json"],
          "end_state_files": ["public/index.html"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "smoke",
          "test_files": [],
          "success_criteria": ["HTML loads without errors"],
          "test_command": "npx html-validate public/index.html || true"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["HTML structure only"]
      },
      {
        "id": "TASK-039",
        "title": "Create CSS for neon-liquid progress bars",
        "description": "Style progress bars with neon glow effects, color transitions (blue/orange/red), and smooth CSS animations.",
        "type": "frontend",
        "epic_id": "EPIC-009",
        "feature_id": "FR-007",
        "story_ids": ["ST-022"],
        "entity_ids": [],
        "flow_ids": ["FLOW-012"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "frontend_developer",
        "dependencies": ["TASK-038"],
        "blocked_by": [],
        "acceptance_criteria": ["Neon glow effect", "Color states work", "Smooth transitions"],
        "definition_of_done": ["CSS applied", "Animations render"],
        "technical_notes": "Colors: #00d2ff (smart), #f9826c (degrading), #ff4b2b (dumb)",
        "risks": [],
        "tags": ["frontend", "dashboard", "css"],
        "context_plan": {
          "beginning_context": ["public/index.html", "docs/prd.json"],
          "end_state_files": ["public/styles.css"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "visual",
          "test_files": [],
          "success_criteria": ["Bars animate correctly"],
          "test_command": "echo 'Manual visual verification required'"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["CSS styling only"]
      },
      {
        "id": "TASK-040",
        "title": "Implement dashboard JavaScript with Socket.io client",
        "description": "Create client-side JS that connects to Socket.io and updates progress bars, roadmap, and guardrail indicators.",
        "type": "frontend",
        "epic_id": "EPIC-009",
        "feature_id": "FR-007",
        "story_ids": ["ST-022", "ST-023", "ST-024", "ST-025"],
        "entity_ids": ["ENT-009"],
        "flow_ids": ["FLOW-012"],
        "journey_ids": ["JRN-002"],
        "priority": "high",
        "story_points": 4,
        "estimated_hours": 2,
        "assignee": "frontend_developer",
        "dependencies": ["TASK-038", "TASK-039", "TASK-037"],
        "blocked_by": [],
        "acceptance_criteria": ["Socket.io connects", "Progress bars update", "Guardrails show status"],
        "definition_of_done": ["Real-time updates work"],
        "technical_notes": "Listen for 'telemetry' and 'roadmap' events",
        "risks": [],
        "tags": ["frontend", "dashboard", "javascript"],
        "context_plan": {
          "beginning_context": ["public/index.html", "public/styles.css"],
          "end_state_files": ["public/app.js"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": [],
          "success_criteria": ["Dashboard updates in real-time"],
          "test_command": "echo 'Manual integration verification required'"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Client JS only"]
      },
      {
        "id": "TASK-041",
        "title": "Implement CrisisMode service",
        "description": "Create crisis service: pkill processes, git reset --hard HEAD, clear telemetry, broadcast to clients.",
        "type": "backend",
        "epic_id": "EPIC-010",
        "feature_id": "FR-009",
        "story_ids": ["ST-029", "ST-030", "ST-031", "ST-032"],
        "entity_ids": ["ENT-009"],
        "flow_ids": ["FLOW-014", "SFLOW-006"],
        "journey_ids": ["JRN-003"],
        "priority": "high",
        "story_points": 4,
        "estimated_hours": 2,
        "assignee": "backend_developer",
        "dependencies": ["TASK-011", "TASK-037"],
        "blocked_by": [],
        "acceptance_criteria": ["Kill processes <2s", "Git reset works", "Telemetry cleared", "Clients notified"],
        "definition_of_done": ["Integration tests pass", "Named export only"],
        "technical_notes": "Execute pkill -f orchestrate.sh && pkill -f claude-code",
        "risks": ["Killing wrong processes"],
        "tags": ["services", "crisis"],
        "context_plan": {
          "beginning_context": ["src/services/telemetry-manager.ts", "src/watcher/index.ts"],
          "end_state_files": ["src/crisis/crisis-mode.ts", "src/crisis/index.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/crisis/crisis-mode.test.ts"],
          "success_criteria": ["Crisis protocol executes"],
          "test_command": "npx vitest run tests/crisis/crisis-mode.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Crisis service only"]
      },
      {
        "id": "TASK-042",
        "title": "Add crisis button handler to dashboard",
        "description": "Wire crisis button click to server-side crisis mode via Socket.io with immediate visual feedback.",
        "type": "frontend",
        "epic_id": "EPIC-010",
        "feature_id": "FR-009",
        "story_ids": ["ST-029"],
        "entity_ids": [],
        "flow_ids": ["FLOW-014"],
        "journey_ids": ["JRN-003"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "frontend_developer",
        "dependencies": ["TASK-040", "TASK-041"],
        "blocked_by": [],
        "acceptance_criteria": ["Button triggers crisis", "Visual feedback shown", "No confirmation required"],
        "definition_of_done": ["Crisis button works end-to-end"],
        "technical_notes": "Emit 'crisis_trigger' event via Socket.io",
        "risks": [],
        "tags": ["frontend", "dashboard", "crisis"],
        "context_plan": {
          "beginning_context": ["public/app.js", "src/crisis/index.ts"],
          "end_state_files": ["public/app.js", "src/watcher/server.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": [],
          "success_criteria": ["Crisis triggers from button"],
          "test_command": "echo 'Manual integration test required'"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Button handler only"]
      },
      {
        "id": "TASK-043",
        "title": "Implement /...seed slash command",
        "description": "Create seed command that triggers Distiller with linked brainstorm file and generates PRD, PIN, and plan.",
        "type": "backend",
        "epic_id": "EPIC-011",
        "feature_id": "FR-010",
        "story_ids": ["ST-033"],
        "entity_ids": ["ENT-002", "ENT-003", "ENT-004"],
        "flow_ids": ["FLOW-015"],
        "journey_ids": ["JRN-001"],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-019"],
        "blocked_by": [],
        "acceptance_criteria": ["Parse command syntax", "Trigger Distiller", "Output success status"],
        "definition_of_done": ["Command works end-to-end", "Named export only"],
        "technical_notes": "Command format: /...seed @file",
        "risks": [],
        "tags": ["services", "commands", "seed"],
        "context_plan": {
          "beginning_context": ["src/distiller/index.ts"],
          "end_state_files": ["src/commands/seed.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/commands/seed.test.ts"],
          "success_criteria": ["Seed command generates artifacts"],
          "test_command": "npx vitest run tests/commands/seed.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Seed command only"]
      },
      {
        "id": "TASK-044",
        "title": "Implement /...plan slash command",
        "description": "Create plan command that analyzes gap between specs and code, updates IMPLEMENTATION_PLAN.md.",
        "type": "backend",
        "epic_id": "EPIC-011",
        "feature_id": "FR-010",
        "story_ids": ["ST-034"],
        "entity_ids": ["ENT-004"],
        "flow_ids": ["FLOW-015"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-018", "TASK-010"],
        "blocked_by": [],
        "acceptance_criteria": ["Analyze spec vs code", "Update plan", "Report task count"],
        "definition_of_done": ["Command works", "Named export only"],
        "technical_notes": "Use RipGrep for gap analysis",
        "risks": [],
        "tags": ["services", "commands", "plan"],
        "context_plan": {
          "beginning_context": ["src/distiller/atomic-task-breakdown.ts", "src/services/implementation-plan-manager.ts"],
          "end_state_files": ["src/commands/plan.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/commands/plan.test.ts"],
          "success_criteria": ["Plan updates correctly"],
          "test_command": "npx vitest run tests/commands/plan.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Plan command only"]
      },
      {
        "id": "TASK-045",
        "title": "Implement /...loop slash command",
        "description": "Create loop command that starts orchestrate.sh in background and activates dashboard telemetry.",
        "type": "backend",
        "epic_id": "EPIC-011",
        "feature_id": "FR-010",
        "story_ids": ["ST-035"],
        "entity_ids": [],
        "flow_ids": ["FLOW-015"],
        "journey_ids": ["JRN-001"],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-031", "TASK-037"],
        "blocked_by": [],
        "acceptance_criteria": ["Start orchestrator", "Dashboard receives data"],
        "definition_of_done": ["Command starts loop", "Named export only"],
        "technical_notes": "Use child_process.spawn with detached",
        "risks": [],
        "tags": ["services", "commands", "loop"],
        "context_plan": {
          "beginning_context": ["scripts/orchestrate.sh", "src/watcher/index.ts"],
          "end_state_files": ["src/commands/loop.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/commands/loop.test.ts"],
          "success_criteria": ["Loop starts correctly"],
          "test_command": "npx vitest run tests/commands/loop.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Loop command only"]
      },
      {
        "id": "TASK-046",
        "title": "Implement /...status slash command",
        "description": "Create status command that renders DASHBOARD.md in terminal with context %, tasks, and latest ADR.",
        "type": "backend",
        "epic_id": "EPIC-011",
        "feature_id": "FR-010",
        "story_ids": ["ST-036"],
        "entity_ids": ["ENT-006", "ENT-009"],
        "flow_ids": ["FLOW-015"],
        "journey_ids": [],
        "priority": "medium",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-011", "TASK-010", "TASK-012"],
        "blocked_by": [],
        "acceptance_criteria": ["Show context %", "Show task progress", "Show latest ADR"],
        "definition_of_done": ["Command outputs status", "Named export only"],
        "technical_notes": "Terminal-friendly formatting",
        "risks": [],
        "tags": ["services", "commands", "status"],
        "context_plan": {
          "beginning_context": ["src/services/telemetry-manager.ts", "src/services/implementation-plan-manager.ts", "src/services/adr-manager.ts"],
          "end_state_files": ["src/commands/status.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/commands/status.test.ts"],
          "success_criteria": ["Status renders correctly"],
          "test_command": "npx vitest run tests/commands/status.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Status command only"]
      },
      {
        "id": "TASK-047",
        "title": "Create commands index and CLI entry point",
        "description": "Create unified command index and main CLI entry point that routes slash commands to handlers.",
        "type": "backend",
        "epic_id": "EPIC-011",
        "feature_id": "FR-010",
        "story_ids": ["ST-033", "ST-034", "ST-035", "ST-036"],
        "entity_ids": [],
        "flow_ids": ["FLOW-015"],
        "journey_ids": [],
        "priority": "high",
        "story_points": 2,
        "estimated_hours": 1,
        "assignee": "backend_developer",
        "dependencies": ["TASK-043", "TASK-044", "TASK-045", "TASK-046"],
        "blocked_by": [],
        "acceptance_criteria": ["All commands routed", "Help text available"],
        "definition_of_done": ["CLI entry works", "Named export only"],
        "technical_notes": "Add to package.json bin",
        "risks": [],
        "tags": ["services", "commands", "cli"],
        "context_plan": {
          "beginning_context": ["src/commands/*.ts"],
          "end_state_files": ["src/commands/index.ts", "src/cli.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/commands/cli.test.ts"],
          "success_criteria": ["CLI routes all commands"],
          "test_command": "npx vitest run tests/commands/cli.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["CLI routing only"]
      },
      {
        "id": "TASK-048",
        "title": "Implement ShiftReportGenerator",
        "description": "Create generator for end-of-shift reports with Executive Summary, Completed Tasks, and Strategic Memory.",
        "type": "backend",
        "epic_id": "EPIC-012",
        "feature_id": "FR-011",
        "story_ids": ["ST-038", "ST-039"],
        "entity_ids": ["ENT-007"],
        "flow_ids": ["FLOW-016"],
        "journey_ids": [],
        "priority": "medium",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-006", "TASK-010"],
        "blocked_by": [],
        "acceptance_criteria": ["Generate report", "Include completed tasks", "Verify DoD criteria"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Format for successor Manager context",
        "risks": [],
        "tags": ["services", "reports"],
        "context_plan": {
          "beginning_context": ["src/schemas/shift-report.schema.ts", "src/services/implementation-plan-manager.ts"],
          "end_state_files": ["src/reports/shift-report-generator.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/reports/shift-report-generator.test.ts"],
          "success_criteria": ["Report generates correctly"],
          "test_command": "npx vitest run tests/reports/shift-report-generator.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Report generator only"]
      },
      {
        "id": "TASK-049",
        "title": "Implement ForensicAnalyzer for post-crisis recovery",
        "description": "Create analyzer that reviews logs to identify crisis trigger: vague spec, rule violation, or test gap.",
        "type": "backend",
        "epic_id": "EPIC-012",
        "feature_id": "FR-012",
        "story_ids": ["ST-040", "ST-041"],
        "entity_ids": ["ENT-010"],
        "flow_ids": ["FLOW-017"],
        "journey_ids": ["JRN-003"],
        "priority": "medium",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-013", "TASK-011"],
        "blocked_by": [],
        "acceptance_criteria": ["Analyze activity.log", "Identify trigger type", "Propose fixes"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Check context fill at failure time",
        "risks": [],
        "tags": ["services", "recovery", "forensics"],
        "context_plan": {
          "beginning_context": ["src/services/compiler-error-manager.ts", "src/services/telemetry-manager.ts"],
          "end_state_files": ["src/recovery/forensic-analyzer.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/recovery/forensic-analyzer.test.ts"],
          "success_criteria": ["Trigger identified correctly"],
          "test_command": "npx vitest run tests/recovery/forensic-analyzer.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Forensic analyzer only"]
      },
      {
        "id": "TASK-050",
        "title": "Implement FinalSanityChecker for deployment",
        "description": "Create checker that runs global audits: tenantId in queries, Zod on endpoints, named exports, N+1 detection.",
        "type": "backend",
        "epic_id": "EPIC-012",
        "feature_id": "FR-013",
        "story_ids": ["ST-042"],
        "entity_ids": [],
        "flow_ids": ["FLOW-018"],
        "journey_ids": ["JRN-006"],
        "priority": "medium",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-022"],
        "blocked_by": [],
        "acceptance_criteria": ["Run all KR audits", "Report pass/fail", "Block on failures"],
        "definition_of_done": ["Integration tests pass", "Named export only"],
        "technical_notes": "Use KRStandardsChecker for audits",
        "risks": [],
        "tags": ["services", "deployment", "audit"],
        "context_plan": {
          "beginning_context": ["src/guardrails/kr-standards-checker.ts"],
          "end_state_files": ["src/deployment/final-sanity-checker.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "integration",
          "test_files": ["tests/deployment/final-sanity-checker.test.ts"],
          "success_criteria": ["All audits run"],
          "test_command": "npx vitest run tests/deployment/final-sanity-checker.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Sanity checker only"]
      },
      {
        "id": "TASK-051",
        "title": "Implement ClientDocGenerator for README_CLIENT.md",
        "description": "Create generator that synthesizes Shift Reports and ADRs into professional client handoff documentation.",
        "type": "backend",
        "epic_id": "EPIC-012",
        "feature_id": "FR-013",
        "story_ids": ["ST-043"],
        "entity_ids": ["ENT-006", "ENT-007"],
        "flow_ids": ["FLOW-018"],
        "journey_ids": ["JRN-006"],
        "priority": "medium",
        "story_points": 3,
        "estimated_hours": 1.5,
        "assignee": "backend_developer",
        "dependencies": ["TASK-048", "TASK-012"],
        "blocked_by": [],
        "acceptance_criteria": ["Synthesize reports", "Extract ADR decisions", "Include deploy instructions"],
        "definition_of_done": ["Unit tests pass", "Named export only"],
        "technical_notes": "Confirm 100% feature coverage vs PRD",
        "risks": [],
        "tags": ["services", "deployment", "documentation"],
        "context_plan": {
          "beginning_context": ["src/reports/shift-report-generator.ts", "src/services/adr-manager.ts"],
          "end_state_files": ["src/deployment/client-doc-generator.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "unit",
          "test_files": ["tests/deployment/client-doc-generator.test.ts"],
          "success_criteria": ["README_CLIENT.md generates"],
          "test_command": "npx vitest run tests/deployment/client-doc-generator.test.ts"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["Doc generator only"]
      },
      {
        "id": "TASK-052",
        "title": "Create end-to-end integration test suite",
        "description": "Create comprehensive E2E tests covering full pipeline: seed -> plan -> loop -> crisis -> recovery.",
        "type": "testing",
        "epic_id": "EPIC-012",
        "feature_id": null,
        "story_ids": [],
        "entity_ids": [],
        "flow_ids": ["SFLOW-001"],
        "journey_ids": ["JRN-001", "JRN-002", "JRN-003"],
        "priority": "high",
        "story_points": 4,
        "estimated_hours": 2,
        "assignee": "backend_developer",
        "dependencies": ["TASK-047", "TASK-041", "TASK-049"],
        "blocked_by": [],
        "acceptance_criteria": ["Full pipeline tested", "All exit codes verified", "Dashboard integration works"],
        "definition_of_done": ["E2E tests pass"],
        "technical_notes": "Use vitest with longer timeout",
        "risks": ["Test flakiness"],
        "tags": ["testing", "e2e", "integration"],
        "context_plan": {
          "beginning_context": ["src/**/*.ts"],
          "end_state_files": ["tests/e2e/pipeline.e2e.test.ts"],
          "read_only_files": []
        },
        "testing_strategy": {
          "strategy_type": "e2e",
          "test_files": ["tests/e2e/pipeline.e2e.test.ts"],
          "success_criteria": ["Full pipeline executes"],
          "test_command": "npx vitest run tests/e2e/ --timeout=60000"
        },
        "estimated_time": "30 minutes",
        "scope_boundaries": ["E2E tests only"]
      }
    ],
    "sprints": [
      {
        "id": "SPRINT-001",
        "name": "Foundation Sprint",
        "start_date": "2026-01-13",
        "end_date": "2026-01-27",
        "capacity": 40,
        "task_ids": ["TASK-001", "TASK-002", "TASK-003", "TASK-004", "TASK-005", "TASK-006", "TASK-007", "TASK-008", "TASK-009", "TASK-010", "TASK-011", "TASK-012", "TASK-013"],
        "goals": ["Project initialized", "All Zod schemas complete", "File state managers working"]
      },
      {
        "id": "SPRINT-002",
        "name": "Distiller and Guardrails Sprint",
        "start_date": "2026-01-27",
        "end_date": "2026-02-10",
        "capacity": 40,
        "task_ids": ["TASK-014", "TASK-015", "TASK-016", "TASK-017", "TASK-018", "TASK-019", "TASK-020", "TASK-021", "TASK-022", "TASK-023"],
        "goals": ["Distiller component complete", "Guardrail system operational"]
      },
      {
        "id": "SPRINT-003",
        "name": "Manager and Worker Sprint",
        "start_date": "2026-02-10",
        "end_date": "2026-02-24",
        "capacity": 40,
        "task_ids": ["TASK-024", "TASK-025", "TASK-026", "TASK-027", "TASK-028", "TASK-029", "TASK-030", "TASK-031", "TASK-032", "TASK-033"],
        "goals": ["Shift Manager working", "Stateless Worker operational", "Orchestrator running"]
      },
      {
        "id": "SPRINT-004",
        "name": "Dashboard and Commands Sprint",
        "start_date": "2026-02-24",
        "end_date": "2026-03-10",
        "capacity": 40,
        "task_ids": ["TASK-034", "TASK-035", "TASK-036", "TASK-037", "TASK-038", "TASK-039", "TASK-040", "TASK-041", "TASK-042", "TASK-043", "TASK-044", "TASK-045", "TASK-046", "TASK-047"],
        "goals": ["Watcher service complete", "Dashboard functional", "All slash commands working"]
      },
      {
        "id": "SPRINT-005",
        "name": "Polish and Integration Sprint",
        "start_date": "2026-03-10",
        "end_date": "2026-03-24",
        "capacity": 40,
        "task_ids": ["TASK-048", "TASK-049", "TASK-050", "TASK-051", "TASK-052"],
        "goals": ["Supporting features complete", "E2E tests passing", "Production ready"]
      }
    ],
    "dependencies": [
      {"from_task": "TASK-001", "to_task": "TASK-002", "type": "finish_to_start", "description": "Project init before directory structure"},
      {"from_task": "TASK-001", "to_task": "TASK-003", "type": "finish_to_start", "description": "Project init before schemas"},
      {"from_task": "TASK-003", "to_task": "TASK-004", "type": "finish_to_start", "description": "Project schema before PRD schema"},
      {"from_task": "TASK-003", "to_task": "TASK-005", "type": "finish_to_start", "description": "Project schema before Task schema"},
      {"from_task": "TASK-003", "to_task": "TASK-006", "type": "finish_to_start", "description": "Project schema before ADR schema"},
      {"from_task": "TASK-003", "to_task": "TASK-007", "type": "finish_to_start", "description": "Project schema before Telemetry schema"},
      {"from_task": "TASK-003", "to_task": "TASK-008", "type": "finish_to_start", "description": "Schemas before FileStateManager"},
      {"from_task": "TASK-008", "to_task": "TASK-009", "type": "finish_to_start", "description": "Base manager before Project manager"},
      {"from_task": "TASK-008", "to_task": "TASK-010", "type": "finish_to_start", "description": "Base manager before Plan manager"},
      {"from_task": "TASK-008", "to_task": "TASK-011", "type": "finish_to_start", "description": "Base manager before Telemetry manager"},
      {"from_task": "TASK-008", "to_task": "TASK-012", "type": "finish_to_start", "description": "Base manager before ADR manager"},
      {"from_task": "TASK-008", "to_task": "TASK-013", "type": "finish_to_start", "description": "Base manager before Error manager"},
      {"from_task": "TASK-004", "to_task": "TASK-014", "type": "finish_to_start", "description": "PRD schema before parser"},
      {"from_task": "TASK-014", "to_task": "TASK-016", "type": "finish_to_start", "description": "Parser before PRD generator"},
      {"from_task": "TASK-015", "to_task": "TASK-017", "type": "finish_to_start", "description": "Pattern analyzer before PIN generator"},
      {"from_task": "TASK-016", "to_task": "TASK-018", "type": "finish_to_start", "description": "PRD generator before task breakdown"},
      {"from_task": "TASK-018", "to_task": "TASK-019", "type": "finish_to_start", "description": "All distiller components before orchestrator"},
      {"from_task": "TASK-013", "to_task": "TASK-020", "type": "finish_to_start", "description": "Error manager before compiler verifier"},
      {"from_task": "TASK-020", "to_task": "TASK-021", "type": "finish_to_start", "description": "Compiler before test gate"},
      {"from_task": "TASK-021", "to_task": "TASK-023", "type": "finish_to_start", "description": "All guardrails before orchestrator"},
      {"from_task": "TASK-011", "to_task": "TASK-024", "type": "finish_to_start", "description": "Telemetry before context monitor"},
      {"from_task": "TASK-010", "to_task": "TASK-025", "type": "finish_to_start", "description": "Plan manager before task selector"},
      {"from_task": "TASK-012", "to_task": "TASK-026", "type": "finish_to_start", "description": "ADR manager before handoff writer"},
      {"from_task": "TASK-026", "to_task": "TASK-027", "type": "finish_to_start", "description": "All manager components before main service"},
      {"from_task": "TASK-023", "to_task": "TASK-028", "type": "finish_to_start", "description": "Guardrails before Ralph loop"},
      {"from_task": "TASK-028", "to_task": "TASK-030", "type": "finish_to_start", "description": "Ralph loop before Worker service"},
      {"from_task": "TASK-027", "to_task": "TASK-031", "type": "finish_to_start", "description": "Manager before orchestrator script"},
      {"from_task": "TASK-031", "to_task": "TASK-032", "type": "finish_to_start", "description": "Script before worker spawning"},
      {"from_task": "TASK-011", "to_task": "TASK-034", "type": "finish_to_start", "description": "Telemetry before file watcher"},
      {"from_task": "TASK-034", "to_task": "TASK-037", "type": "finish_to_start", "description": "Watchers before service"},
      {"from_task": "TASK-002", "to_task": "TASK-038", "type": "finish_to_start", "description": "Directory structure before HTML"},
      {"from_task": "TASK-038", "to_task": "TASK-039", "type": "finish_to_start", "description": "HTML before CSS"},
      {"from_task": "TASK-039", "to_task": "TASK-040", "type": "finish_to_start", "description": "CSS before JavaScript"},
      {"from_task": "TASK-037", "to_task": "TASK-041", "type": "finish_to_start", "description": "Watcher before crisis mode"},
      {"from_task": "TASK-041", "to_task": "TASK-042", "type": "finish_to_start", "description": "Crisis mode before button handler"},
      {"from_task": "TASK-019", "to_task": "TASK-043", "type": "finish_to_start", "description": "Distiller before seed command"},
      {"from_task": "TASK-046", "to_task": "TASK-047", "type": "finish_to_start", "description": "All commands before CLI"},
      {"from_task": "TASK-047", "to_task": "TASK-052", "type": "finish_to_start", "description": "CLI before E2E tests"}
    ]
  }
}
